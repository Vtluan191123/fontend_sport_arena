<div class="page-heading header-text">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h3>Sport Arena</h3>
                <span class="breadcrumb"><a routerLink="/home">Home</a> > <a routerLink="/shop">Shop</a> > Detail
                    Field</span>
            </div>
        </div>
    </div>
</div>

<div class="single-product section">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="left-image">
                    <img class="image" src="images/{{data.image}}" alt="">
                </div>
            </div>
            <div class="col-lg-6 align-self-center">
                <h2>{{data.name}}</h2>
                <span class="price">{{data.price | currency:'VND':'code'}}/giờ</span>
                <h5>{{data.shortDes}}</h5>

                <!-- Hàng nút bấm -->
                <div class="button-group mt-3">
                    @for (item of data.list_football_child; track $index) {
                    <button (click)="handlerEachField(item)"
                        [ngClass]=" item_parent == $index+1?'active_parent':''">{{item.nameField}}</button>
                    }
                </div>

                <!-- Div chứa danh sách button -->
                <div class="button-container">
                    <div class="button-list">
                        @for (item of time_items; track $index) {
                        <Button class="time-items-container" (click)="active($index,$event,item)"
                            [ngClass]="{'active_item':check[$index],'disabled':item.booked}">{{item.timeDes}}</Button>
                        }

                    </div>
                </div>


                <ul>
                    <li><span>Số lượng sân:</span> {{data.totalField}} sân</li>
                    <li><span>Loại sân: </span>{{data.typeField.name}}</li>
                    <li><span>Sân: </span> @for (item of data.list_capacity; track $index) {
                        {{item.name}}
                        }</li>
                </ul>

                <form id="qty">

                    <button style="margin-bottom: 30px;" (click)="addToCart()" type="button"><i
                            class="fa fa-shopping-bag"></i> Thêm sân </button>
                </form>

            </div>
            <div class="col-lg-12">
                <div class="sep"></div>
            </div>
        </div>
    </div>
</div>

<div class="more-info">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="tabs-content">
                    <div class="row">
                        <div class="nav-wrapper ">
                            <ul class="nav nav-tabs" role="tablist">
                                <li class="nav-item" role="presentation">
                                    <button (click)="handleRevierByStar('')" class="nav-link active"
                                        id="description-tab" data-bs-toggle="tab" data-bs-target="#description"
                                        type="button" role="tab" aria-controls="description"
                                        aria-selected="true">Description</button>
                                </li>
                                <li class="nav-item" role="presentation">
                                    <button (click)="handleRevierByStar('')" class="nav-link" id="reviews-tab"
                                        data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab"
                                        aria-controls="reviews" aria-selected="false">Reviews
                                        ({{data.totalReview}})</button>
                                </li>
                            </ul>
                        </div>
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="description" role="tabpanel"
                                aria-labelledby="description-tab">
                                <p>{{data.des}}</p>
                            </div>
                            <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
                                <div class="reviews">

                                    <div class="rating-container">
                                        <button (click)="handleRevierByStar('')" class="rating-button">Tất cả</button>
                                        <button (click)="handleRevierByStar(5)" class="rating-button">5 sao</button>
                                        <button (click)="handleRevierByStar(4)" class="rating-button">4 sao</button>
                                        <button (click)="handleRevierByStar(3)" class="rating-button">3 sao</button>
                                        <button (click)="handleRevierByStar(2)" class="rating-button">2 sao</button>
                                        <button (click)="handleRevierByStar(1)" class="rating-button">1 sao</button>
                                    </div>
                                    @if (data.reviews.length > 0) {
                                    @for (item of data.reviews; track $index) {
                                    <div class="review-item">
                                        <div class="avatar">
                                            <img src="{{rootImagesAvt}}{{item.user.image}}" alt="User Avatar">

                                        </div>
                                        <div>
                                            <h4 class="user-name">{{item.user.name}}</h4>
                                            <div>


                                                @for (item of numberToArray(item.stars); track $index) {
                                                <span class="stars">★</span>
                                                }
                                            </div>
                                            <p>{{item.date}}</p>
                                        </div>
                                        <div>
                                            <div class="review-content">
                                                <p class="content">{{item.content}}</p>
                                            </div>
                                            <div class="d-flex">
                                                @for (item of handleImageReview(item.images); track $index) {
                                                <div class="img-review">
                                                    @if (item) {
                                                    <img style="height: 100% !important;"
                                                        src="{{rootImagesReview}}{{item}}" alt="User Avatar">
                                                    }

                                                </div>
                                                }


                                            </div>
                                        </div>
                                    </div>

                                    }
                                    }@else {
                                    <h3>Không tồn tại review</h3>
                                    }
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>